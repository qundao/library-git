# 以任何其他名称提交……

理解提交是理解 Git 的关键。当你的头脑中只包含提交拓扑结构时，你就知道自己已经达到了分支智慧的禅宗高地，抛开了分支、标签、本地和远程存储库等的困惑。希望这样的理解不需要你砍掉你的手臂 —— 尽管我可以理解你现在已经考虑过这个问题。

如果提交是关键，那么你如何命名提交就是掌握的门道。大多数 Git 命令都接受许多许多方式来命名提交、提交范围甚至提交所持有的一些对象。这里是一些较基本用法的总结：

* **branchname** — 正如之前所说，任何分支的名称都只是对该“分支”上最新提交的别名。这与在分支被检出时使用 HEAD 一词相同。

* **tagname** — 标签名称别名与分支别名在命名提交方面是相同的。两者之间的主要区别在于标签别名永远不会改变，而分支别名在每次向该分支签入新提交时都会改变。

* **HEAD** — 当前检出的提交始终被称为 HEAD。如果你检出了特定的提交 —— 而不是分支名称 —— 那么 HEAD 仅指向该提交，而不指向任何分支。请注意，此情况有些特殊，称为“使用分离的 HEAD”（我相信这里有一个笑话要讲...）。

* **c82a22c39cbc32...** — 一个提交始终可以使用其完整的 40 个字符的 SHA1 散列 ID 来引用。通常，这只会在剪切和粘贴时发生，因为通常有其他更方便的方法来引用相同的提交。

* **c82a22c** — 你只需要使用足够数量的散列 ID 数字，以便在存储库中唯一引用。大多数情况下，使用六到七位数字就足够了。

* **name^** — 任何提交的父提交都可以使用插入符号来引用。如果一个提交有多个父提交，则使用第一个。

* **name^^** — 插入符可以连续应用。这个别名指的是给定提交名称的“父提交的父提交”。

* **name^2** — 如果一个提交有多个父提交（例如合并提交），则可以使用 `name^n` 来引用第 _n_ 个父提交。

* **name~10** — 可以使用波浪符（~）后跟序数数字来引用提交的 _n_ 代祖先。这种用法通常与 `rebase -i` 一起使用，例如，表示“显示最近的一堆提交”。这与 `name^^^^^^^^^^` 相同。

* **name:path** — 要引用提交的内容树中的特定文件，请在冒号后指定该文件的名称。这对于 show 或显示提交文件的两个版本之间的差异非常有帮助：

```bash
  $ git diff HEAD^1:Makefile HEAD^2:Makefile
```

* **name^{tree}** — 你可以引用提交所持有的树，而不是提交本身。

* **name1..name2** — 这个和下面的别名表示 **提交范围**，在像 log 这样的命令中非常有用，用于查看在特定时间段内发生了什么。左侧的语法指的是从 **name1** 开始到 **name2** 结束之间的所有可达提交，但不包括 **name1**。如果省略了 **name1** 或 **name2** 中的任何一个，则使用 HEAD 替代。

* **name1...name2** — “三个点”的范围与上面的两个点版本非常不同。对于像 log 这样的命令，它指的是由 **name1** 或 **name2** 引用的所有提交，但不由两者同时引用的。然后结果是两个分支中所有唯一提交的列表。对于像 `diff` 这样的命令，所表达的范围位于 **name2** 和 **name1** 及其公共祖先之间的区别。这与 `log` 情况不同，因为不显示 **name1** 引入的更改。

* **master..** — 这种用法等同于 “`master..HEAD`”。我正在这里添加它，尽管它已经在上面暗示过，因为当我审查对当前分支所做的更改时，我经常使用这种别名。

* **..master** — 这在执行了 `fetch` 后也非常有用，当你想要查看自上次 `rebase` 或 `merge` 以来发生了什么更改时。

* **--since="2 weeks ago"** — 指的是自某个日期以来的所有提交。

* **--until=”1 week ago”** — 指的是在某个日期之前的所有提交。

* **--grep=pattern** — 指的是提交消息匹配正则表达式模式的所有提交。

* **--committer=pattern** — 指的是提交者匹配模式的所有提交。

* **--author=pattern** — 指的是作者匹配模式的所有提交。提交的作者是创建该提交所代表的更改的人。对于本地开发，这总是与提交者相同，但是当补丁通过电子邮件发送时，作者和提交者通常不同。

* **--no-merges** — 指的是范围中没有超过一个父提交的所有提交 —— 也就是说，它忽略所有合并提交。

这些选项中的大多数可以混合和匹配。下面是一个示例，显示了以下日志条目：由我在上个月内在当前分支（从 master 分支分支出来）上进行的更改，其中包含文本 “foo”：

```bash
$ git log --grep='foo' --author='johnw' --since="1 month ago" master..
```
